
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>How to debug installation installation failure &#8212; ALIGN 0.9 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="align" href="modules.html" />
    <link rel="prev" title="Design database" href="database.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="modules.html" title="align"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="database.html" title="Design database"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ALIGN 0.9 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="how-to-debug-installation-installation-failure">
<h1>How to debug installation installation failure<a class="headerlink" href="#how-to-debug-installation-installation-failure" title="Permalink to this headline">¶</a></h1>
<p>Despite using install.sh if something fails, we have collected a basic set of errors and how to resolve them.</p>
<div class="section" id="error-due-to-gcc-version">
<h2>Error due to gcc version<a class="headerlink" href="#error-due-to-gcc-version" title="Permalink to this headline">¶</a></h2>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PlaceRouteHierFlow/pnr_compiler: /usr/lib64/libstdc++.so.6: version &#39;GLIBCXX_3.4.21&#39; not found
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>C++ version is old. Please update C++ version &gt; 4.2
To use inside UMN use “module load gcc/8.2.0”</p>
</div>
</div>
<div class="section" id="error-due-to-ld-library-path-prerequisite-missing">
<h2>Error due to LD_LIBRARY_PATH prerequisite missing:<a class="headerlink" href="#error-due-to-ld-library-path-prerequisite-missing" title="Permalink to this headline">¶</a></h2>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Unable to load lpsolve shared library (liblpsolve55.so).
It is probably not in the correct path.
LP test flag 2
TotNumberOfNest 14 TotNumberOfSTs 70
align.cmdline ERROR : Fatal Error. Cannot proceed
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It can be due to LD_LIBRARY_PATH not present or LD_LIBRARY_PATH path not correct
To install lpsolve:
git clone <a class="reference external" href="https://www.github.com/ALIGN-analoglayout/lpsolve.git">https://www.github.com/ALIGN-analoglayout/lpsolve.git</a>
To set lpsolve environment path:
Ubuntu/bash:
export LD_LIBRARY_PATH=$ALIGN_HOME/lpsolve/lp_solve_5.5.2.5_dev_ux64/
RedHat/tcsh:
Setenv LD_LIBRARY_PATH $ALIGN_HOME/lpsolve/lp_solve_5.5.2.5_dev_ux64/</p>
</div>
</div>
<div class="section" id="error-due-to-xvfb-library-used-to-generate-image-of-layout">
<h2>Error due to xvfb library used to generate image of layout:<a class="headerlink" href="#error-due-to-xvfb-library-used-to-generate-image-of-layout" title="Permalink to this headline">¶</a></h2>
<p>Error: ERROR : Call to ‘gds2png.sh /ALIGN-public/work/telescopic_ota/telescopic_ota_0.gds /ALIGN-public/work/telescopic_ota/telescopic_ota_0.png /ALIGN-public/align/config/image_png.rb’ failed:
Solution:
sudo apt-get install xvfb</p>
<p>Error due to lpsolve library prerequisite missing:
Error: ./router/GcellGlobalRouter.h:47:10: fatal error: lp_lib.h: No such file or directory</p>
<blockquote>
<div><dl class="simple">
<dt>#include “lp_lib.h”</dt><dd><p>^~~~~~~~~~</p>
</dd>
</dl>
</div></blockquote>
<p>compilation terminated.</p>
<p>Solution:
It can be due to LD_DIR not present or LD_LIBRARY_PATH path not correct
To install lpsolve:
git clone <a class="reference external" href="https://www.github.com/ALIGN-analoglayout/lpsolve.git">https://www.github.com/ALIGN-analoglayout/lpsolve.git</a>
To set lpsolve environment path:
Ubuntu/bash:
export LP_DIR=$ALIGN_HOME/lpsolve
RedHat/tcsh:
Setenv LD_DIR $ALIGN_HOME/lpsolve</p>
</div>
<div class="section" id="error-due-to-googletest-prerequisite-missing">
<h2>Error due to googletest prerequisite missing:<a class="headerlink" href="#error-due-to-googletest-prerequisite-missing" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>Error: unit_tests.cpp:2:10: fatal error: gtest/gtest.h: No such file or directory</dt><dd><dl class="simple">
<dt>#include &lt;gtest/gtest.h&gt;</dt><dd><p>^~~~~~~~~~~~~~~</p>
</dd>
</dl>
</dd>
</dl>
<p>compilation terminated.
Solution:
It can be due to googletest not present or googletest path not correct
Installing googletest
cd $ALIGN_HOME
git clone <a class="reference external" href="https://github.com/google/googletest">https://github.com/google/googletest</a>
cd googletest/
cmake CMakeLists.txt
make
mkdir googletest/mybuild
cp -r lib googletest/mybuild/.
To set googletest path
Ubuntu/bash:
export GTEST_DIR=$ALIGN_HOME/googletest/googletest/
RedHat/tcsh:
setenv GTEST_DIR $ALIGN_HOME/googletest/googletest/</p>
</div>
<div class="section" id="error-due-to-json-prerequisite-missing">
<h2>Error due to JSON prerequisite missing:<a class="headerlink" href="#error-due-to-json-prerequisite-missing" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>Error: PnRdatabase.h:23:10: fatal error: nlohmann/json.hpp: No such file or directory</dt><dd><dl class="simple">
<dt>#include &lt;nlohmann/json.hpp&gt;</dt><dd><p>^~~~~~~~~~~~~~~~~~~</p>
</dd>
</dl>
</dd>
</dl>
<p>compilation terminated.
Solution:
It can be due to JSON not present or JSON path not correct
Installing JSON
cd $ALIGN_HOME
git clone <a class="reference external" href="https://github.com/nlohmann/json.git">https://github.com/nlohmann/json.git</a>
To set JSON path
Ubuntu/bash:
export JSON=$ALIGN_HOME/json
RedHat/tcsh:
setenv JSON $ALIGN_HOME/json</p>
</div>
<div class="section" id="error-due-to-python-virtual-environment-prerequisite-missing">
<h2>Error due to python virtual environment prerequisite missing<a class="headerlink" href="#error-due-to-python-virtual-environment-prerequisite-missing" title="Permalink to this headline">¶</a></h2>
<p>Error:
/bin/bash: /opt/venv/bin/activate: No such file or directory
Solution:
ALIGN is installed inside a python virtual environment. The default path of the virtual environment is assumed to be /opt/venv/bin/activate. You can edit the makefile to the path of your virtual environment or pass the virtual environment path as a parameter.
Install python virtual environment:
cd $ALIGN_HOME
export VENV=$ALIGN_HOME/general
python3.6 -m venv $VENV
source $VENV/bin/activate
pip install –upgrade pip
pip install -e .
deactivate
To use virtual environment from a path:
make  VENV=$VENV DESIGN=telescopic_ota</p>
</div>
<div class="section" id="error-due-to-klayout-prerequisite-missing">
<h2>Error due to klayout prerequisite missing<a class="headerlink" href="#error-due-to-klayout-prerequisite-missing" title="Permalink to this headline">¶</a></h2>
<p>Error: Call to klayout failed.
Solution: Install klayout tool for visualization
curl -o /klayout_0.25.4-1_amd64.deb <a class="reference external" href="https://www.klayout.org/downloads/Ubuntu-18/klayout_0.25.4-1_amd64.deb">https://www.klayout.org/downloads/Ubuntu-18/klayout_0.25.4-1_amd64.deb</a>
apt-get install -yq /klayout_0.25.4-1_amd64.deb</p>
</div>
<div class="section" id="error-due-to-missing-align-installation">
<h2>Error due to missing align installation<a class="headerlink" href="#error-due-to-missing-align-installation" title="Permalink to this headline">¶</a></h2>
<p>Error: python: can’t open file
‘$ALIGN_HOME/general/bin/schematic2layout.py’:
[Errno 2] No such file or directory
Makefile:36: recipe for target ‘telescopic_ota/telescopic_ota_0.png’ failed
make: <a href="#id1"><span class="problematic" id="id2">**</span></a>* [telescopic_ota/telescopic_ota_0.png] Error 2
Solution: This happens due to issues with pip version resulting in missing align package installation.
cd $ALIGN_HOME
source $VENV/bin/activate
pip Install –upgrade pip
pip Install -e .
deactivate</p>
</div>
<div class="section" id="error-due-to-g-package-not-updated">
<h2>Error due to g++ package not updated<a class="headerlink" href="#error-due-to-g-package-not-updated" title="Permalink to this headline">¶</a></h2>
<p>Error:
&lt;builtin&gt;: recipe for target ‘capplacer.o’ failed
make[1]: <strong>* [capplacer.o] Error 1
make[1]: Leaving directory ‘$ALIGN_HOME/PlaceRouteHierFlow/cap_placer’
Makefile:42: recipe for target ‘subsystem’ failed
make: *</strong> [subsystem] Error 2
Solution:
Check for errors during “sudo apt-get update”. It can be due to the older Ubuntu version and might need Ubuntu update.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">How to debug installation installation failure</a><ul>
<li><a class="reference internal" href="#error-due-to-gcc-version">Error due to gcc version</a></li>
<li><a class="reference internal" href="#error-due-to-ld-library-path-prerequisite-missing">Error due to LD_LIBRARY_PATH prerequisite missing:</a></li>
<li><a class="reference internal" href="#error-due-to-xvfb-library-used-to-generate-image-of-layout">Error due to xvfb library used to generate image of layout:</a></li>
<li><a class="reference internal" href="#error-due-to-googletest-prerequisite-missing">Error due to googletest prerequisite missing:</a></li>
<li><a class="reference internal" href="#error-due-to-json-prerequisite-missing">Error due to JSON prerequisite missing:</a></li>
<li><a class="reference internal" href="#error-due-to-python-virtual-environment-prerequisite-missing">Error due to python virtual environment prerequisite missing</a></li>
<li><a class="reference internal" href="#error-due-to-klayout-prerequisite-missing">Error due to klayout prerequisite missing</a></li>
<li><a class="reference internal" href="#error-due-to-missing-align-installation">Error due to missing align installation</a></li>
<li><a class="reference internal" href="#error-due-to-g-package-not-updated">Error due to g++ package not updated</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="database.html"
                        title="previous chapter">Design database</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="modules.html"
                        title="next chapter">align</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/debug.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="modules.html" title="align"
             >next</a> |</li>
        <li class="right" >
          <a href="database.html" title="Design database"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ALIGN 0.9 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Kunal and ALIGN team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.3.1.
    </div>
  </body>
</html>